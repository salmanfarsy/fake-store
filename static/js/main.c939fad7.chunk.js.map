{"version":3,"sources":["components/Card.jsx","components/Nav.jsx","components/Loading.jsx","components/Details.jsx","components/Checkout.jsx","firebase.js","components/signIn.jsx","components/SignOut.jsx","components/form.jsx","App.js","index.js"],"names":["card","props","title","price","image","btnDetails","id","addCart","className","src","alt","onClick","bind","this","Nav","btn","itemNumber","formBtn","Loading","Details","description","category","rating","users","back","Checkout","products","cartPro","map","p","i","del","tt","total","reduce","a","c","toFixed","alert","createUserProfileDocument","userAuth","additonaldata","userRef","firestore","doc","uid","get","exists","displayName","email","createdAt","Date","set","console","log","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","provider","GoogleAuthProvider","setCustomParameters","prompt","signInWithGoogle","signInWithPopup","SignIn","handleSubmit","e","preventDefault","state","password","signInWithEmailAndPassword","setState","handleChange","target","name","value","onSubmit","type","placeholder","onChange","Component","SignOut","conPassword","createUserWithEmailAndPassword","user","Form","App","unsubsribeFromAuth","showDetails","product","filter","showcheck","selectedProduct","cart","checkBtn","delPro","showForm","showdetails","currentUser","fetch","then","res","json","data","onAuthStateChanged","onSnapshot","snapShot","prices","Fragment","length","rate","count","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c939fad7.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function card(props) {\r\n    const {title, price, image, btnDetails, id, addCart} = props;\r\n    return (\r\n        <div className='cards'>\r\n            <h2>{title}</h2>\r\n            <img src={image} alt={title} />\r\n            <p>Price : $ {price}</p>\r\n            <div className=\"button\">\r\n            <button onClick={addCart.bind(this, id)}>Add to Cart</button>\r\n            <button onClick={btnDetails.bind(this, id)}>Details</button>\r\n            </div>\r\n       \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\n\r\nexport default function Nav(props) {\r\n   \r\n    return (\r\n    <header>\r\n        <h1>Fake-Store</h1>\r\n        <div className=\"check\">\r\n        <h2 onClick={props.btn}>Check out</h2>\r\n        <h3>ITems : {props.itemNumber<10 ? '0'+props.itemNumber : props.itemNumber}</h3>\r\n        </div>\r\n        <button onClick={props.formBtn}>Form</button>\r\n     \r\n    </header>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Loading() {\r\n    return (\r\n        <div className='loading'>\r\n           \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\n\r\nexport default function Details(props) {\r\n    const {title, price, description, category, image, rating, users, back, addCart, id} = props;\r\n    return (\r\n        <div className='details'>\r\n              <h1>{title}</h1>\r\n              <div>\r\n              <img src={image} alt={title} />\r\n              <div>\r\n            <h3>Category: {category}</h3>\r\n            <h2>Price : ${price}</h2>\r\n            <p>Description: {description}</p>\r\n            <h4>Users: {users} <br/> Rating: {rating}/5</h4>\r\n            <button onClick={addCart.bind(this, id)}>Add to Cart</button>\r\n            <button onClick={back}>Back</button>\r\n            </div>\r\n\r\n              </div>\r\n           \r\n         \r\n         \r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nexport default function Checkout(props) {\r\n\r\n\r\n    const products = props.cartPro.map((p , i)=>{\r\n       return (<div key={i}>\r\n              <h2>{i+1}.{p[0].title}</h2>\r\n        <img src={p[0].image} alt={p[0].title} />\r\n        <h3>Price:$ {p[0].price}</h3>\r\n        <h4 onClick={props.del.bind(this, i)}>x</h4>\r\n       </div>\r\n     \r\n       ) \r\n    })\r\n    const tt = props.total.reduce((a , c)=>{ return a + c}, 0)\r\n    return (\r\n        <div className='checkout'>\r\n            {products}\r\n            <div>\r\n               <h1> Total : $ {tt.toFixed(2)}</h1>\r\n               <button onClick={()=> {alert('Sorry the service is unavailable')}}>Pay Now</button>\r\n            </div>\r\n            <button onClick={props.back}>Back</button>\r\n        </div>\r\n    )\r\n}\r\n","import firebase from 'firebase/compat/app';\r\nimport 'firebase/compat/auth';\r\nimport 'firebase/compat/firestore';\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyALDCIHfzFOnhNSvIi-GXraXevy8iIQk5s\",\r\n    authDomain: \"fir-a7552.firebaseapp.com\",\r\n    projectId: \"fir-a7552\",\r\n    storageBucket: \"fir-a7552.appspot.com\",\r\n    messagingSenderId: \"802229547362\",\r\n    appId: \"1:802229547362:web:8c4f552ec5a6a42ab73c3b\"\r\n  }\r\n\r\n  export const createUserProfileDocument = async (userAuth, additonaldata) =>{\r\n    if(!userAuth) return ;\r\n\r\n    const userRef = firestore.doc(`users/${userAuth.uid}`);\r\n    const snapShot = userRef.get();\r\n    if(!snapShot.exists){\r\n      const {displayName, email} = userAuth;\r\n      const createdAt = new Date();\r\n      try {\r\n        await userRef.set({\r\n          displayName,\r\n          email,\r\n          createdAt\r\n        })\r\n      } catch (error) {\r\n        console.log(error, 'found error')\r\n      }\r\n\r\n    } return userRef;\r\n  }\r\n\r\n  firebase.initializeApp(config);\r\n\r\n  export const auth = firebase.auth();\r\n  export const firestore = firebase.firestore();\r\n\r\n  const provider = new firebase.auth.GoogleAuthProvider();\r\n  provider.setCustomParameters({prompt: 'select_account'});\r\n\r\n  export const signInWithGoogle = () => auth.signInWithPopup(provider);\r\n\r\n  export default firebase;","import React, { Component } from 'react';\r\nimport { auth, signInWithGoogle } from '../firebase';\r\n\r\nexport default class SignIn extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n             email:'',\r\n             password:''\r\n        }\r\n    }\r\n    handleSubmit = async (e) =>{\r\n        e.preventDefault();\r\n        const {email , password} = this.state;\r\n        auth.signInWithEmailAndPassword(email, password);\r\n        this.setState({\r\n            email:'',\r\n             password:'' \r\n        })\r\n    }\r\n    handleChange = (e) =>{\r\n        const {name , value} = e.target;\r\n        this.setState({[name] : value});\r\n    }\r\n    render() {\r\n        return (\r\n            <div className='sign-in'>\r\n        <h2>Sign in Here</h2>\r\n        <form onSubmit={this.handleSubmit}>\r\n        <input type=\"email\" name='email' placeholder='Email' onChange={this.handleChange} value={this.state.email}/>\r\n         <input type=\"password\" name='password' placeholder='Password' onChange={this.handleChange} value={this.state.password}/>\r\n         <input type=\"submit\" value=\"Sign In\" />\r\n        </form>\r\n         <button onClick={signInWithGoogle} className='google'>Sign-in with Google</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { auth, createUserProfileDocument } from '../firebase';\r\n\r\nexport default class SignOut extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n             email:'',\r\n             password:'',\r\n             conPassword:'',\r\n             displayName:''\r\n        }\r\n    }\r\n    handleChange = (e) =>{\r\n        const {name , value} = e.target;\r\n        this.setState({[name] : value});\r\n    }\r\n    handleSubmit = async (e) =>{\r\n        e.preventDefault();\r\n  const { displayName, email, password, conPassword} = this.state;\r\n  if(password !== conPassword){\r\n      alert('Wrong password');\r\n      return\r\n  }\r\n  try {\r\n      const { user } = await auth.createUserWithEmailAndPassword(email, password);\r\n\r\n      await createUserProfileDocument(user, {displayName});\r\n      this.setState({\r\n        displayName:''  ,\r\n        email:'',\r\n        password:'',\r\n        conPassword:''\r\n      \r\n      })\r\n  } catch (error) {\r\n      console.log(error)\r\n  }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className='sign-out'>\r\n                 <h2>Register here</h2>\r\n        <form onSubmit={this.handleSubmit}>\r\n        <input type=\"text\" placeholder='User Name' name='displayName' onChange={this.handleChange} value={this.state.displayName}/>\r\n        <input type=\"email\" placeholder='Email' name='email' onChange={this.handleChange} value={this.state.email}/>\r\n         <input type=\"password\" placeholder='Password' name='password' onChange={this.handleChange} value={this.state.password}/>\r\n         <input type=\"password\" placeholder='Confirm Password' name='conPassword' onChange={this.handleChange} value={this.state.conPassword}/>   \r\n         <input type=\"submit\" value=\"Sign Up\" />\r\n        </form>\r\n              \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport SignIn from './signIn'\r\nimport SignOut from './SignOut'\r\n\r\nconst Form = () => {\r\n    return (\r\n        <div >\r\n          <h1> Sign IN or Register</h1>\r\n          <div className=\"form\">\r\n          <SignIn/>\r\n           <SignOut/>\r\n          </div>\r\n         \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Form\r\n","import React, { Component } from 'react';\nimport Card from './components/Card';\nimport Nav from './components/Nav';\nimport Loading from './components/Loading';\nimport Details from './components/Details';\nimport Checkout from './components/Checkout';\nimport './App.scss';\nimport { auth, createUserProfileDocument } from './firebase';\nimport Form from './components/form';\n\nclass App extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      products:[],\n      showdetails:false,\n      product:{},\n      cart:[],\n      showcheck:false,\n      showForm:false,\n      currentUser:null\n    }\n  }\n\n  unsubsribeFromAuth = null;\n  componentDidMount() {\n    fetch('https://fakestoreapi.com/products')\n    .then(res => res.json())\n    .then(data => this.setState({products:data}));\n\n    this.unsubsribeFromAuth = auth.onAuthStateChanged(async userAuth =>{\n      if(userAuth){\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot(snapShot =>{\n          this.setState({currentUser:{\n            id:snapShot.id,\n            ...snapShot.data()\n          }\n           \n          })\n        })\n      }\n      this.setState({currentUser: userAuth})\n    })\n   \n  }\n  componentWillUnmount(){\n    this.unsubsribeFromAuth();\n  }\n showDetails = (id)=>{\n    console.log(id);\n    const product = this.state.products.filter((p, i)=>(p.id === id));\n    this.setState({showDetails:true ,product});\n  }\n  back = ()=>{\n    this.setState({showDetails:false, showcheck: false});\n  }\n  addCart = (id)=>{\n    const selectedProduct = this.state.products.filter(p => p.id===id);\n    const cart = [...this.state.cart, selectedProduct];\n    \n\n    this.setState({cart}, ()=>{\n    \n      })\n  }\n  checkBtn = ()=>{\n    this.setState({showcheck: true})\n  }\n  delPro = (id) =>{\n    const cart = this.state.cart.filter((c , i)=> i !== id);\n    this.setState({cart});\n  }\n  formBtn = () =>{\n   this.state.showForm ? this.setState({showForm : false}) : this.setState({showForm : true})\n  \n  }\n  \n  render() {\n    const products = this.state.products.map((p, i)=>(<Card key={i} {...p} btnDetails={this.showDetails} addCart={this.addCart}/>));\n    const product = this.state.product[0];\n    const prices = this.state.cart.map((p)=> {\n        return    p[0].price\n    })\n    console.log(prices)\n    return (\n      <React.Fragment>\n        <Nav itemNumber = {this.state.cart.length} btn={this.checkBtn} formBtn={this.formBtn}/>\n        {this.state.showForm ? <Form/> : null}\n       \n        {this.state.showDetails && !this.state.showcheck?<Details \n        title = {product.title}\n       price = {product.price}\n         description ={product.description}\n         category ={product.category}\n         image = {product.image}\n         rating = {product.rating.rate}\n        users ={product.rating.count}\n        id = {product.id}\n        back = {this.back}\n        addCart={this.addCart}\n        /> : null }\n            <main>\n        {!this.state.showDetails\n         && !this.state.showcheck \n          && !this.state.showForm ?\n          this.state.products.length > 0?\n           products : <Loading/>  : null}\n      </main>\n      {this.state.showcheck? <Checkout cartPro = {this.state.cart}  back = {this.back} del={this.delPro} total={prices}/>: null}\n    \n      </React.Fragment>\n  \n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}