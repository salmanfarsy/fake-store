(this.webpackJsonpstarter=this.webpackJsonpstarter||[]).push([[0],{42:function(t,e,a){},45:function(t,e,a){},49:function(t,e,a){"use strict";a.r(e);var n=a(17),s=a.n(n),r=a(36),c=a.n(r),i=(a(42),a(0)),o=a.n(i),u=a(33),l=a(1),h=a(21),d=a(2),j=a(3),b=a(8),p=a(9),m=a(10);function O(t){var e=t.title,a=t.price,n=t.image,s=t.btnDetails,r=t.id,c=t.addCart;return Object(m.jsxs)("div",{className:"cards",children:[Object(m.jsx)("h2",{children:e}),Object(m.jsx)("img",{src:n,alt:e}),Object(m.jsxs)("p",{children:["Price : $ ",a]}),Object(m.jsxs)("div",{className:"button",children:[Object(m.jsx)("button",{onClick:c.bind(this,r),children:"Add to Cart"}),Object(m.jsx)("button",{onClick:s.bind(this,r),children:"Details"})]})]})}function f(t){return Object(m.jsxs)("header",{children:[Object(m.jsx)("h1",{children:"Fake-Store"}),Object(m.jsxs)("div",{className:"check",children:[Object(m.jsx)("h2",{onClick:t.btn,children:"Check out"}),Object(m.jsxs)("h3",{children:["ITems : ",t.itemNumber<10?"0"+t.itemNumber:t.itemNumber]})]}),Object(m.jsx)("button",{onClick:t.formBtn,children:"Form"})]})}function x(){return Object(m.jsx)("div",{className:"loading"})}function v(t){var e=t.title,a=t.price,n=t.description,s=t.category,r=t.image,c=t.rating,i=t.users,o=t.back,u=t.addCart,l=t.id;return Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("h1",{children:e}),Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:r,alt:e}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("h3",{children:["Category: ",s]}),Object(m.jsxs)("h2",{children:["Price : $",a]}),Object(m.jsxs)("p",{children:["Description: ",n]}),Object(m.jsxs)("h4",{children:["Users: ",i," ",Object(m.jsx)("br",{})," Rating: ",c,"/5"]}),Object(m.jsx)("button",{onClick:u.bind(this,l),children:"Add to Cart"}),Object(m.jsx)("button",{onClick:o,children:"Back"})]})]})]})}function g(t){var e=this,a=t.cartPro.map((function(a,n){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{children:[n+1,".",a[0].title]}),Object(m.jsx)("img",{src:a[0].image,alt:a[0].title}),Object(m.jsxs)("h3",{children:["Price:$ ",a[0].price]}),Object(m.jsx)("h4",{onClick:t.del.bind(e,n),children:"x"})]},n)})),n=t.total.reduce((function(t,e){return t+e}),0);return Object(m.jsxs)("div",{className:"checkout",children:[a,Object(m.jsxs)("div",{children:[Object(m.jsxs)("h1",{children:[" Total : $ ",n.toFixed(2)]}),Object(m.jsx)("button",{onClick:function(){alert("Sorry the service is unavailable")},children:"Pay Now"})]}),Object(m.jsx)("button",{onClick:t.back,children:"Back"})]})}a(45);var w=a(27),k=(a(46),a(50),function(){var t=Object(l.a)(o.a.mark((function t(e,a){var n,s,r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(n=y.doc("users/".concat(e.uid)),n.get().exists){t.next=15;break}return s=e.displayName,r=e.email,c=new Date,t.prev=7,t.next=10,n.set({displayName:s,email:r,createdAt:c});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(7),console.log(t.t0,"found error");case 15:return t.abrupt("return",n);case 16:case"end":return t.stop()}}),t,null,[[7,12]])})));return function(e,a){return t.apply(this,arguments)}}());w.a.initializeApp({apiKey:"AIzaSyALDCIHfzFOnhNSvIi-GXraXevy8iIQk5s",authDomain:"fir-a7552.firebaseapp.com",projectId:"fir-a7552",storageBucket:"fir-a7552.appspot.com",messagingSenderId:"802229547362",appId:"1:802229547362:web:8c4f552ec5a6a42ab73c3b"});var C=w.a.auth(),y=w.a.firestore(),S=new w.a.auth.GoogleAuthProvider;S.setCustomParameters({prompt:"select_account"});var N=function(){return C.signInWithPopup(S)},P=(w.a,a(4)),D=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).handleSubmit=function(){var t=Object(l.a)(o.a.mark((function t(e){var a,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),a=n.state,s=a.email,r=a.password,C.signInWithEmailAndPassword(s,r),n.setState({email:"",password:""});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.handleChange=function(t){var e=t.target,a=e.name,s=e.value;n.setState(Object(P.a)({},a,s))},n.state={email:"",password:""},n}return Object(j.a)(a,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"sign-in",children:[Object(m.jsx)("h2",{children:"Sign in Here"}),Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("input",{type:"email",name:"email",placeholder:"Email",onChange:this.handleChange,value:this.state.email}),Object(m.jsx)("input",{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange,value:this.state.password}),Object(m.jsx)("input",{type:"submit",value:"Sign In"})]}),Object(m.jsx)("button",{onClick:N,className:"google",children:"Sign-in with Google"})]})}}]),a}(n.Component),F=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).handleChange=function(t){var e=t.target,a=e.name,s=e.value;n.setState(Object(P.a)({},a,s))},n.handleSubmit=function(){var t=Object(l.a)(o.a.mark((function t(e){var a,s,r,c,i,u,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),a=n.state,s=a.displayName,r=a.email,c=a.password,i=a.conPassword,c===i){t.next=5;break}return alert("Wrong password"),t.abrupt("return");case 5:return t.prev=5,t.next=8,C.createUserWithEmailAndPassword(r,c);case 8:return u=t.sent,l=u.user,t.next=12,k(l,{displayName:s});case 12:n.setState({displayName:"",email:"",password:"",conPassword:""}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}(),n.state={email:"",password:"",conPassword:"",displayName:""},n}return Object(j.a)(a,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"sign-out",children:[Object(m.jsx)("h2",{children:"Register here"}),Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("input",{type:"text",placeholder:"User Name",name:"displayName",onChange:this.handleChange,value:this.state.displayName}),Object(m.jsx)("input",{type:"email",placeholder:"Email",name:"email",onChange:this.handleChange,value:this.state.email}),Object(m.jsx)("input",{type:"password",placeholder:"Password",name:"password",onChange:this.handleChange,value:this.state.password}),Object(m.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"conPassword",onChange:this.handleChange,value:this.state.conPassword}),Object(m.jsx)("input",{type:"submit",value:"Sign Up"})]})]})}}]),a}(n.Component),A=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:" Sign IN or Register"}),Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)(D,{}),Object(m.jsx)(F,{})]})]})},I=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).unsubsribeFromAuth=null,n.showDetails=function(t){console.log(t);var e=n.state.products.filter((function(e,a){return e.id===t}));n.setState({showDetails:!0,product:e})},n.back=function(){n.setState({showDetails:!1,showcheck:!1})},n.addCart=function(t){var e=n.state.products.filter((function(e){return e.id===t})),a=[].concat(Object(h.a)(n.state.cart),[e]);n.setState({cart:a},(function(){}))},n.checkBtn=function(){n.setState({showcheck:!0})},n.delPro=function(t){var e=n.state.cart.filter((function(e,a){return a!==t}));n.setState({cart:e})},n.formBtn=function(){n.state.showForm?n.setState({showForm:!1}):n.setState({showForm:!0})},n.state={products:[],showdetails:!1,product:{},cart:[],showcheck:!1,showForm:!1,currentUser:null},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var t=this;fetch("https://fakestoreapi.com/products").then((function(t){return t.json()})).then((function(e){return t.setState({products:e})})),this.unsubsribeFromAuth=C.onAuthStateChanged(function(){var e=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,k(a);case 3:e.sent.onSnapshot((function(e){t.setState({currentUser:Object(u.a)({id:e.id},e.data())})}));case 5:t.setState({currentUser:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubsribeFromAuth()}},{key:"render",value:function(){var t=this,e=this.state.products.map((function(e,a){return Object(m.jsx)(O,Object(u.a)(Object(u.a)({},e),{},{btnDetails:t.showDetails,addCart:t.addCart}),a)})),a=this.state.product[0],n=this.state.cart.map((function(t){return t[0].price}));return console.log(n),Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(f,{itemNumber:this.state.cart.length,btn:this.checkBtn,formBtn:this.formBtn}),this.state.showForm?Object(m.jsx)(A,{}):null,this.state.showDetails&&!this.state.showcheck?Object(m.jsx)(v,{title:a.title,price:a.price,description:a.description,category:a.category,image:a.image,rating:a.rating.rate,users:a.rating.count,id:a.id,back:this.back,addCart:this.addCart}):null,Object(m.jsx)("main",{children:this.state.showDetails||this.state.showcheck||this.state.showForm?null:this.state.products.length>0?e:Object(m.jsx)(x,{})}),this.state.showcheck?Object(m.jsx)(g,{cartPro:this.state.cart,back:this.back,del:this.delPro,total:n}):null]})}}]),a}(n.Component);c.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(I,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.c939fad7.chunk.js.map